"use strict";(self.webpackChunkessential_mend=self.webpackChunkessential_mend||[]).push([[277],{7535:(e,a,s)=>{function l(e,a,s={}){"failure"===a&&(a="danger");const l=document.createElement("div");l.classList.add("position-fixed","ultra-z-index","top-0","start-50","translate-middle-x","alert",`alert-${a}`,"fade-in"),l.textContent=e,document.body.appendChild(l),setTimeout((()=>{setTimeout((()=>{document.body.removeChild(l),s.reloadOnTimeout&&window.location.reload()}),500)}),3e3),s.forceReload&&window.location.reload()}function t(e,a){e&&setTimeout((()=>{window.location.href=e}),a||0)}s.d(a,{T:()=>l,V:()=>t})},1277:(e,a,s)=>{s.r(a),s.d(a,{default:()=>Da});var l=s(822),t=s(7416),d=s(4526),o=s(4390),i=s(3826),n=s(7535);const c={class:"flex-grow-1 d-flex flex-column p-2 bg-white h-100 rounded-start"},r={class:"tab-content flex-grow-1 overflow-scroll",id:"nav-tabContent"},u={class:"tab-pane fade show active",id:"nav-services",role:"tabpanel","aria-labelledby":"nav-services-tab"},b={class:"pt-2 pb-2 d-flex flex-column overflow-hidden"},p={class:"d-flex justify-content-between align-items-center"},v={class:"input-group mr-sm-2",id:"service-search-wrapper"},m={class:"d-flex flex-grow-1 flex-column gap-2 overflow-scroll"},k=["onClick","data-value","data-sid"],f={class:"d-flex flex-grow-1 flex-column"},L={class:"text-truncate m-0"},g={class:"fs-6 m-0"},w={class:"align-self-center d-flex gap-2"},h=["onClick"],y=["onClick","data-sid"],C={key:1},x={class:"tab-pane fade",id:"nav-professionals",role:"tabpanel","aria-labelledby":"nav-professionals-tab"},W={class:"p-2 d-flex flex-column overflow-hidden"},_={class:"d-flex justify-content-between align-items-center"},E={class:"input-group mr-sm-2",id:"professional-search-wrapper"},P={class:"d-flex flex-grow-1 overflow-scroll flex-column gap-2"},R=["onClick","data-value","data-uid"],D={class:"d-flex flex-grow-1 flex-column"},T={class:"fw-normal"},S={class:"text-truncate m-0"},q={class:"m-0"},B={class:"fs-6 m-0"},A={class:"align-self-center d-flex gap-2"},I=["onClick","data-uid"],U=["data-uid"],F=["onClick","data-uid"],N={key:1},j={class:"tab-pane fade",id:"nav-users",role:"tabpanel","aria-labelledby":"nav-users-tab"},K={class:"p-2 d-flex flex-column overflow-hidden"},X={class:"d-flex justify-content-between align-items-center"},Q={class:"input-group mr-sm-2",id:"user-search-wrapper"},V={class:"d-flex flex-grow-1 overflow-scroll flex-column gap-2"},J=["onClick","data-value","data-uid"],$={class:"d-flex flex-grow-1 flex-column"},O={class:"fw-normal"},H={class:"m-0"},z={class:"align-self-center"},G=["onClick","data-uid"],Y={key:1},M={class:"modal fade",id:"service-info-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Z={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},ee={class:"modal-content"},ae={class:"modal-body d-flex gap-4"},se={id:"service-info-modal-body"},le={class:"m-0"},te={class:"m-0"},de={class:"m-0"},oe={class:"modal fade",id:"service-add-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ie={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},ne={class:"modal-content"},ce={class:"modal-body",id:"service-add-modal-body"},re={class:"mb-3"},ue={class:"mb-3"},be={class:"mb-3"},pe={class:"modal fade",id:"service-edit-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ve={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},me={class:"modal-content"},ke={class:"modal-body",id:"service-edit-modal-body"},fe={class:"mb-3"},Le={class:"mb-3"},ge={class:"mb-3"},we={class:"modal-footer",id:"service-edit-modal-footer"},he=["disabled"],ye={class:"modal fade",id:"service-delete-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ce={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},xe={class:"modal-content"},We={class:"modal-body",id:"service-delete-modal-body"},_e={class:"m-0"},Ee={class:"fw-bold"},Pe={class:"modal fade",id:"professional-info-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Re={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},De={class:"modal-content"},Te={class:"modal-body d-flex gap-4"},Se={id:"professional-info-modal-body"},qe={class:"m-0"},Be={class:"m-0"},Ae={class:"m-0"},Ie={class:"m-0"},Ue={class:"m-0"},Fe={class:"m-0"},Ne={class:"m-0"},je={class:"m-0"},Ke={class:"m-0"},Xe={class:"m-0"},Qe={class:"m-0"},Ve={class:"m-0"},Je={class:"m-0"},$e={class:"m-0"},Oe={class:"m-0"},He={class:"m-0"},ze={class:"m-0"},Ge={class:"modal fade",id:"professional-review-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ye={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Me={class:"modal-content"},Ze={class:"modal-body",id:"professional-review-modal-body"},ea={class:"m-0"},aa={class:"m-0"},sa={class:"m-0"},la={class:"fw-bold"},ta={class:"modal fade",id:"professional-delete-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},da={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},oa={class:"modal-content"},ia={class:"modal-body",id:"professional-delete-modal-body"},na={class:"m-0"},ca={class:"fw-bold"},ra={class:"modal-footer",id:"professional-delete-modal-footer"},ua={class:"modal fade",id:"user-info-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ba={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},pa={class:"modal-content"},va={class:"modal-body d-flex gap-4"},ma={id:"user-info-modal-body"},ka={class:"m-0"},fa={class:"m-0"},La={class:"m-0"},ga={class:"m-0"},wa={class:"m-0"},ha={class:"m-0"},ya={class:"m-0"},Ca={class:"modal fade",id:"user-delete-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},xa={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Wa={class:"modal-content"},_a={class:"modal-body",id:"user-delete-modal-body"},Ea={class:"m-0"},Pa={class:"fw-bold"},Ra={class:"modal-footer",id:"user-delete-modal-footer"},Da={__name:"AdminPanel",setup(e){const a=(0,i.C)(),s=(0,o.KR)(!0),Da=(0,o.KR)(""),Ta=(0,l.EW)((()=>Da.value?a.adminPanel.services.filter((e=>e.name.toLowerCase().includes(Da.value.toLowerCase())||e.description.toLowerCase().includes(Da.value.toLowerCase()))):a.adminPanel.services)),Sa=(0,l.EW)((()=>Da.value?a.adminPanel.professionals.filter((e=>e.name.toLowerCase().includes(Da.value.toLowerCase())||e.email.toLowerCase().includes(Da.value.toLowerCase())||e.service?.name.toLowerCase().includes(Da.value.toLowerCase())||e.location.toLowerCase().includes(Da.value.toLowerCase())||e.pincode.toLowerCase().includes(Da.value.toLowerCase()))):a.adminPanel.professionals)),qa=(0,l.EW)((()=>Da.value?a.adminPanel.users.filter((e=>e.name.toLowerCase().includes(Da.value.toLowerCase())||e.email.toLowerCase().includes(Da.value.toLowerCase())||e.location.toLowerCase().includes(Da.value.toLowerCase())||e.pincode.toLowerCase().includes(Da.value.toLowerCase()))):a.adminPanel.users)),Ba=(0,o.KR)(null),Aa=(0,o.KR)(null),Ia=(0,o.KR)(null),Ua=(0,o.KR)(""),Fa=(0,o.KR)(""),Na=(0,o.KR)(0),ja=(0,o.KR)(""),Ka=(0,o.KR)(""),Xa=(0,o.KR)(0);(0,l.wB)(Ba,(e=>{e&&(Ua.value=e.name,Fa.value=e.description,Na.value=e.price)}));const Qa=(0,l.EW)((()=>{if(!Ba.value)return!1;const e=a.adminPanel.services.find((e=>e.sid===Ba.value.sid));return!!e&&(Ua.value!==e.name||Fa.value!==e.description||Na.value!==e.price)})),Va=e=>{Ba.value=a.adminPanel.services.find((a=>a.sid===e))},Ja=e=>{Aa.value=a.adminPanel.professionals.find((a=>a.uid===e))},$a=e=>{Ia.value=a.adminPanel.users.find((a=>a.uid===e))},Oa=e=>{e.stopPropagation();const s=ja.value,l=Ka.value,t=Xa.value;if(!s||!l||!t)return void(0,n.T)("All fields are required","failure");const d=new FormData;d.append("name",s),d.append("description",l),d.append("price",t),fetch("/api/services",{method:"POST",body:d}).then((e=>e.json())).then((e=>{"success"===e.result&&(ja.value="",Ka.value="",Xa.value=0,a.adminPanel.services.push(e.data.service),document.getElementById("service-add-modal-close-btn").click()),(0,n.T)(e.data.message,e.result)})).catch((e=>(0,n.T)("Service add failed","failure")))},Ha=()=>{const e=Ba.value.sid,s=Ua.value,l=Fa.value,t=Na.value,d=new FormData;d.append("sid",e),d.append("name",s),d.append("description",l),d.append("price",t),fetch("/api/services",{method:"PUT",body:d}).then((e=>e.json())).then((s=>{if("success"===s.result){const l=a.adminPanel.services.find((a=>a.sid===e));l&&(l.name=s.data.service.name,l.description=s.data.service.description,l.price=s.data.service.price),document.getElementById("service-edit-modal-close-btn").click()}(0,n.T)(s.data.message,s.result)})).catch((e=>(0,n.T)("Service update failed","failure")))},za=()=>{const e=Ba.value.sid,s=new FormData;s.append("sid",e),fetch("/api/services",{method:"DELETE",body:s}).then((e=>e.json())).then((s=>{if("success"===s.result){const s=a.adminPanel.services.findIndex((a=>a.sid===e));-1!==s&&a.adminPanel.services.splice(s,1),document.getElementById("service-delete-modal-close-btn").click()}(0,n.T)(s.data.message,s.result)})).catch((e=>(0,n.T)("Service delete failed","failure")))},Ga=()=>{const e=Ia.value.uid,s=new FormData;s.append("uid",e),s.append("mode","delete"),fetch("/api/user",{method:"DELETE",body:s}).then((e=>e.json())).then((s=>{if("success"===s.result){const s=a.adminPanel.users.findIndex((a=>a.uid===e));-1!==s&&a.adminPanel.users.splice(s,1),document.getElementById("user-delete-modal-close-btn").click()}(0,n.T)(s.data.message,s.result)})).catch((e=>(0,n.T)("User delete failed","failure")))},Ya=()=>{const e=Ia.value.uid,s=new FormData;s.append("uid",e),s.append("mode","active"===Ia.value.status?"block":"unblock"),fetch("/api/user",{method:"DELETE",body:s}).then((e=>e.json())).then((s=>{if("success"===s.result){const s=a.adminPanel.users.find((a=>a.uid===e));s&&(s.status="active"===Ia.value.status?"blocked":"active"),document.getElementById("user-delete-modal-close-btn").click()}(0,n.T)(s.data.message,s.result)})).catch((e=>(0,n.T)("User block failed","failure")))},Ma=()=>{const e=Aa.value.uid,s=new FormData;s.append("uid",e),s.append("mode","delete"),fetch("/api/user",{method:"DELETE",body:s}).then((e=>e.json())).then((s=>{if("success"===s.result){const s=a.adminPanel.professionals.findIndex((a=>a.uid===e));-1!==s&&a.adminPanel.professionals.splice(s,1),document.getElementById("professional-delete-modal-close-btn").click()}(0,n.T)(s.data.message,s.result)})).catch((e=>(0,n.T)("Professional delete failed","failure")))},Za=()=>{const e=Aa.value.uid,s=new FormData;s.append("uid",e),s.append("mode","active"===Aa.value.status?"block":"unblock"),fetch("/api/user",{method:"DELETE",body:s}).then((e=>e.json())).then((s=>{if("success"===s.result){const s=a.adminPanel.professionals.find((a=>a.uid===e));s&&(s.status="active"===Aa.value.status?"blocked":"active"),document.getElementById("professional-delete-modal-close-btn").click()}(0,n.T)(s.data.message,s.result)})).catch((e=>(0,n.T)("Professional block failed","failure")))},es=()=>{const e=new FormData;e.append("uid",Aa.value.uid),e.append("mode","approve"),fetch("/api/professionalrequest",{method:"POST",body:e}).then((e=>e.json())).then((e=>{if("success"===e.result){const e=a.adminPanel.professionals.find((e=>e.uid===Aa.value.uid));e&&(e.professionalRequest.status="approved",e.professionalRequest.statusInfo="Professional request approved",e.isPending=!1,e.isApproved=!0,e.isDeclined=!1),document.getElementById("professional-review-modal-close-btn").click()}(0,n.T)(e.data.message,e.result)})).catch((e=>(0,n.T)("Professional approval failed","failure")))},as=()=>{const e=new FormData;e.append("uid",Aa.value.uid),e.append("mode","decline"),fetch("/api/professionalrequest",{method:"POST",body:e}).then((e=>e.json())).then((e=>{if("success"===e.result){const e=a.adminPanel.professionals.find((e=>e.uid===Aa.value.uid));e&&(e.professionalRequest.status="declined",e.professionalRequest.statusInfo="Professional request declined",e.isPending=!1,e.isApproved=!1,e.isDeclined=!0),document.getElementById("professional-review-modal-close-btn").click()}(0,n.T)(e.data.message,e.result)})).catch((e=>(0,n.T)("Professional decline failed","failure")))},ss=e=>{let a="/api/servicerequestreport";e&&(a+=`?uid=${e}`),fetch(a,{method:"GET"}).then((e=>{if(e.ok)return e.blob();throw new Error("Failed to download report")})).then((e=>{const a=window.URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download="closed_service_requests.csv",document.body.appendChild(s),s.click(),s.remove(),(0,n.T)("Service request report downloaded successfully","success")})).catch((e=>{(0,n.T)("Failed to download service request report","failure")}))},ls=e=>{e?.stopPropagation(),ss()},ts=e=>{e?.stopPropagation();const a=e?.target.dataset.uid;a&&ss(a)};return(0,l.sV)((()=>{fetch("/api/adminpanel").then((e=>e.json())).then((e=>{"success"===e.result?a.adminPanel=e.data:(0,n.T)(e.data.message,e.result)})).catch((e=>{(0,n.T)("Failed to fetch admin panel data:","danger")})).finally((()=>{s.value=!1}))})),(e,a)=>((0,l.uX)(),(0,l.CE)("section",c,[a[113]||(a[113]=(0,l.Lk)("nav",null,[(0,l.Lk)("div",{class:"nav nav-tabs",id:"nav-tab",role:"tablist"},[(0,l.Lk)("button",{class:"nav-link active text-black",id:"nav-services-tab","data-bs-toggle":"tab","data-bs-target":"#nav-services",type:"button",role:"tab","aria-controls":"nav-services","aria-selected":"true"},"Services"),(0,l.Lk)("button",{class:"nav-link text-black",id:"nav-professionals-tab","data-bs-toggle":"tab","data-bs-target":"#nav-professionals",type:"button",role:"tab","aria-controls":"nav-professionals","aria-selected":"false"},"Professionals"),(0,l.Lk)("button",{class:"nav-link text-black",id:"nav-users-tab","data-bs-toggle":"tab","data-bs-target":"#nav-users",type:"button",role:"tab","aria-controls":"nav-users","aria-selected":"false"},"Users")])],-1)),(0,l.Lk)("div",r,[(0,l.Lk)("div",u,[(0,l.Lk)("div",b,[(0,l.Lk)("div",p,[(0,l.Lk)("div",v,[a[9]||(a[9]=(0,l.Lk)("div",{class:"input-group-prepend"},[(0,l.Lk)("div",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})])],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"service-search-input","data-type":"service",placeholder:"Search Services","onUpdate:modelValue":a[0]||(a[0]=e=>Da.value=e)},null,512),[[t.Jo,Da.value]])]),a[10]||(a[10]=(0,l.Lk)("button",{class:"btn btn-dark",id:"add-service-btn","data-type":"service","data-action":"add","data-bs-toggle":"modal","data-bs-target":"#service-add-modal"},"Add Service",-1))]),a[17]||(a[17]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("div",m,[Ta.value?.length>0?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(Ta.value,(e=>((0,l.uX)(),(0,l.CE)("div",{onClick:a=>Va(e.sid),key:e.sid,class:"d-flex bg-grayblack gap-4 px-4 rounded pt-2 pb-2","data-type":"service","data-action":"info","data-value":e.name,"data-sid":e.sid,"data-bs-toggle":"modal","data-bs-target":"#service-info-modal"},[a[15]||(a[15]=(0,l.Lk)("div",{class:"item-icon"},[(0,l.Lk)("i",{class:"bi bi-tools service-item-icon"})],-1)),(0,l.Lk)("div",f,[(0,l.Lk)("h4",null,(0,d.v_)(e.name),1),(0,l.Lk)("p",L,[a[11]||(a[11]=(0,l.Lk)("span",{class:"fw-bold"},"Description: ",-1)),(0,l.eW)((0,d.v_)(e.description),1)]),(0,l.Lk)("p",g,[a[12]||(a[12]=(0,l.Lk)("span",{class:"fw-bold"},"Price: ",-1)),(0,l.eW)((0,d.v_)(Number(e.price).toFixed(2))+" Rs",1)])]),(0,l.Lk)("div",w,[(0,l.Lk)("button",{onClick:a=>Va(e.sid),class:"btn btn-dark service-edit-modal-btn","data-type":"service","data-action":"edit","data-sid":"{{service.sid}}","data-bs-toggle":"modal","data-bs-target":"#service-edit-modal"},a[13]||(a[13]=[(0,l.Lk)("i",{class:"fs-5 bi bi-pencil-square"},null,-1)]),8,h),(0,l.Lk)("button",{onClick:a=>Va(e.sid),class:"fs-5 btn btn-danger service-delete-modal-btn","data-type":"service","data-action":"delete","data-sid":e.sid,"data-bs-toggle":"modal","data-bs-target":"#service-delete-modal"},a[14]||(a[14]=[(0,l.Lk)("i",{class:"bi bi-trash3"},null,-1)]),8,y)])],8,k)))),128)):((0,l.uX)(),(0,l.CE)("div",C,a[16]||(a[16]=[(0,l.Lk)("p",null,"No services available currently",-1)])))])])]),(0,l.Lk)("div",x,[(0,l.Lk)("div",W,[(0,l.Lk)("div",_,[(0,l.Lk)("div",E,[a[18]||(a[18]=(0,l.Lk)("div",{class:"input-group-prepend"},[(0,l.Lk)("div",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})])],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"professional-search-input","data-type":"professional",placeholder:"Search Professionals","onUpdate:modelValue":a[1]||(a[1]=e=>Da.value=e)},null,512),[[t.Jo,Da.value]])]),(0,l.Lk)("button",{class:"btn btn-dark",id:"all-professional-service-request-report-download-btn",onClick:ls},"Download full Service Request Report")]),a[30]||(a[30]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("div",P,[Sa.value?.length>0?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(Sa.value,(e=>((0,l.uX)(),(0,l.CE)("div",{onClick:a=>Ja(e.uid),key:e.uid,class:"d-flex bg-grayblack gap-4 px-4 rounded pt-2 pb-2 professional-item","data-action":"info","data-type":"professional","data-value":`${e.name},${e.email}`,"data-uid":e.uid,"data-bs-toggle":"modal","data-bs-target":"#professional-info-modal"},[a[28]||(a[28]=(0,l.Lk)("div",{class:"item-icon"},[(0,l.Lk)("i",{class:"bi bi-person-fill-gear service-item-icon"})],-1)),(0,l.Lk)("div",D,[(0,l.Lk)("h4",null,[(0,l.eW)((0,d.v_)(e.name)+" | "+(0,d.v_)(e.email)+" | ",1),(0,l.Lk)("span",T,(0,d.v_)(e.professionalRequest.status),1)]),(0,l.Lk)("p",S,[a[19]||(a[19]=(0,l.Lk)("span",{class:"fw-bold"},"Service: ",-1)),(0,l.eW)((0,d.v_)(e.service?e.service.name:"Service unavailable")+" | ",1),a[20]||(a[20]=(0,l.Lk)("span",{class:"fw-bold"},"Description: ",-1)),(0,l.eW)(" "+(0,d.v_)(e.description),1)]),(0,l.Lk)("p",q,[a[21]||(a[21]=(0,l.Lk)("span",{class:"fw-bold"},"Location: ",-1)),(0,l.eW)((0,d.v_)(e.location)+" | ",1),a[22]||(a[22]=(0,l.Lk)("span",{class:"fw-bold"},"Pincode: ",-1)),(0,l.eW)((0,d.v_)(e.pincode),1)]),(0,l.Lk)("p",B,[a[23]||(a[23]=(0,l.Lk)("span",{class:"fw-bold"},"Rating: ",-1)),(0,l.eW)((0,d.v_)(e.rating||0)+" ★ | ",1),a[24]||(a[24]=(0,l.Lk)("span",{class:"fw-bold"},"Duration: ",-1)),(0,l.eW)((0,d.v_)(e.duration)+" Hrs | ",1),a[25]||(a[25]=(0,l.Lk)("span",{class:"fw-bold"},"Price: ",-1)),(0,l.eW)((0,d.v_)(Number(e.price).toFixed(2))+" Rs",1)])]),(0,l.Lk)("div",A,[e.isPending&&e.service?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:a=>Ja(e.uid),class:"btn btn-dark professional-review-btn","data-uid":e.uid,"data-type":"professional","data-action":"review","data-bs-toggle":"modal","data-bs-target":"#professional-review-modal"},a[26]||(a[26]=[(0,l.Lk)("i",{class:"bi bi-person-fill-check"},null,-1),(0,l.eW)(" Review Request ")]),8,I)):(0,l.Q3)("v-if",!0),e.isApproved?((0,l.uX)(),(0,l.CE)("button",{key:1,class:"btn btn-dark",onClick:ts,"data-uid":e.uid},"Download Service Request Report",8,U)):(0,l.Q3)("v-if",!0),(0,l.Lk)("button",{onClick:a=>Ja(e.uid),class:"fs-5 btn btn-danger professional-delete-modal-btn","data-action":"delete","data-type":"professional","data-uid":e.uid,"data-bs-toggle":"modal","data-bs-target":"#professional-delete-modal"},a[27]||(a[27]=[(0,l.Lk)("i",{class:"bi bi-trash3"},null,-1)]),8,F)])],8,R)))),128)):((0,l.uX)(),(0,l.CE)("div",N,a[29]||(a[29]=[(0,l.Lk)("p",null,"No services available currently",-1)])))])])]),(0,l.Lk)("div",j,[(0,l.Lk)("div",K,[(0,l.Lk)("div",X,[(0,l.Lk)("div",Q,[a[31]||(a[31]=(0,l.Lk)("div",{class:"input-group-prepend"},[(0,l.Lk)("div",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})])],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"user-search-input","data-type":"user",placeholder:"Search Users","onUpdate:modelValue":a[2]||(a[2]=e=>Da.value=e)},null,512),[[t.Jo,Da.value]])])]),a[37]||(a[37]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("div",V,[qa.value?.length>0?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(qa.value,(e=>((0,l.uX)(),(0,l.CE)("div",{onClick:a=>$a(e.uid),key:e.uid,class:"d-flex bg-grayblack gap-4 px-4 rounded pt-2 pb-2 user-item","data-type":"user","data-action":"info","data-value":`${e.name},${e.email}`,"data-uid":e.uid,"data-bs-toggle":"modal","data-bs-target":"#user-info-modal"},[a[35]||(a[35]=(0,l.Lk)("div",{class:"item-icon"},[(0,l.Lk)("i",{class:"bi bi-person-fill"})],-1)),(0,l.Lk)("div",$,[(0,l.Lk)("h4",null,[(0,l.eW)((0,d.v_)(e.name)+" | "+(0,d.v_)(e.email)+" | ",1),(0,l.Lk)("span",O,(0,d.v_)(e.status),1)]),(0,l.Lk)("p",H,[a[32]||(a[32]=(0,l.Lk)("span",{class:"fw-bold"},"Location: ",-1)),(0,l.eW)((0,d.v_)(e.location)+" | ",1),a[33]||(a[33]=(0,l.Lk)("span",{class:"fw-bold"},"Pincode: ",-1)),(0,l.eW)((0,d.v_)(e.pincode),1)])]),(0,l.Lk)("div",z,[(0,l.Lk)("button",{onClick:a=>$a(e.uid),class:"fs-5 btn btn-danger user-delete-modal-btn","data-type":"user","data-action":"delete","data-uid":e.uid,"data-bs-toggle":"modal","data-bs-target":"#user-delete-modal"},a[34]||(a[34]=[(0,l.Lk)("i",{class:"bi bi-trash3"},null,-1)]),8,G)])],8,J)))),128)):((0,l.uX)(),(0,l.CE)("div",Y,a[36]||(a[36]=[(0,l.Lk)("p",null,"No services available currently",-1)])))])])])]),(0,l.Q3)(" service info modal "),(0,l.Lk)("div",M,[(0,l.Lk)("div",Z,[(0,l.Lk)("div",ee,[a[42]||(a[42]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Service Info"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"service-info-modal-close-btn"})],-1)),(0,l.Lk)("div",ae,[a[41]||(a[41]=(0,l.Lk)("div",{class:"item-icon align-self-start item-info-icon"},[(0,l.Lk)("i",{class:"bi bi-tools"})],-1)),(0,l.Lk)("div",se,[(0,l.Lk)("p",le,[a[38]||(a[38]=(0,l.Lk)("span",{class:"fw-bold"},"Name: ",-1)),(0,l.eW)((0,d.v_)(Ba.value?.name),1)]),(0,l.Lk)("p",te,[a[39]||(a[39]=(0,l.Lk)("span",{class:"fw-bold"},"Description: ",-1)),(0,l.eW)((0,d.v_)(Ba.value?.description),1)]),(0,l.Lk)("p",de,[a[40]||(a[40]=(0,l.Lk)("span",{class:"fw-bold"},"Base Price: ",-1)),(0,l.eW)((0,d.v_)(Ba.value?.price)+" Rs",1)])])])])])]),(0,l.Q3)(" service add modal "),(0,l.Lk)("div",oe,[(0,l.Lk)("div",ie,[(0,l.Lk)("div",ne,[a[46]||(a[46]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Add Service"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"service-add-modal-close-btn"})],-1)),(0,l.Lk)("div",ce,[(0,l.Lk)("div",re,[a[43]||(a[43]=(0,l.Lk)("label",{for:"service-name",class:"form-label fw-bold"},"Name",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"service-name",placeholder:"Enter service name","onUpdate:modelValue":a[3]||(a[3]=e=>ja.value=e)},null,512),[[t.Jo,ja.value]])]),(0,l.Lk)("div",ue,[a[44]||(a[44]=(0,l.Lk)("label",{for:"service-description",class:"form-label fw-bold"},"Description",-1)),(0,l.bo)((0,l.Lk)("textarea",{class:"form-control",id:"service-description",rows:"3",placeholder:"Enter service description","onUpdate:modelValue":a[4]||(a[4]=e=>Ka.value=e)},null,512),[[t.Jo,Ka.value]])]),(0,l.Lk)("div",be,[a[45]||(a[45]=(0,l.Lk)("label",{for:"service-price",class:"form-label fw-bold"},"Price",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control",id:"service-price",placeholder:"Enter service price","onUpdate:modelValue":a[5]||(a[5]=e=>Xa.value=e)},null,512),[[t.Jo,Xa.value]])])]),(0,l.Lk)("div",{class:"modal-footer",id:"service-add-modal-footer"},[(0,l.Lk)("button",{type:"button",class:"btn btn-dark",id:"service-add-btn",onClick:Oa},"Add")])])])]),(0,l.Q3)(" service edit modal "),(0,l.Lk)("div",pe,[(0,l.Lk)("div",ve,[(0,l.Lk)("div",me,[a[50]||(a[50]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Edit Service"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"service-edit-modal-close-btn"})],-1)),(0,l.Lk)("div",ke,[(0,l.Lk)("div",fe,[a[47]||(a[47]=(0,l.Lk)("label",{for:"edit-service-name",class:"form-label fw-bold"},"Name",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"edit-service-name","onUpdate:modelValue":a[6]||(a[6]=e=>Ua.value=e)},null,512),[[t.Jo,Ua.value]])]),(0,l.Lk)("div",Le,[a[48]||(a[48]=(0,l.Lk)("label",{for:"edit-service-description",class:"form-label fw-bold"},"Description",-1)),(0,l.bo)((0,l.Lk)("textarea",{class:"form-control",id:"edit-service-description",rows:"3","onUpdate:modelValue":a[7]||(a[7]=e=>Fa.value=e)},null,512),[[t.Jo,Fa.value]])]),(0,l.Lk)("div",ge,[a[49]||(a[49]=(0,l.Lk)("label",{for:"edit-service-price",class:"form-label fw-bold"},"Price",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control",id:"edit-service-price","onUpdate:modelValue":a[8]||(a[8]=e=>Na.value=e)},null,512),[[t.Jo,Na.value]])])]),(0,l.Lk)("div",we,[(0,l.Lk)("button",{type:"button",class:"btn btn-dark",id:"service-edit-btn",disabled:!Qa.value,onClick:Ha},"Update",8,he)])])])]),(0,l.Q3)(" service delete modal "),(0,l.Lk)("div",ye,[(0,l.Lk)("div",Ce,[(0,l.Lk)("div",xe,[a[57]||(a[57]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Delete Service"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"service-delete-modal-close-btn"})],-1)),(0,l.Lk)("div",We,[(0,l.Lk)("p",_e,[a[51]||(a[51]=(0,l.eW)("Are you sure to ")),a[52]||(a[52]=(0,l.Lk)("span",{class:"fw-bold text-danger"},"DELETE",-1)),a[53]||(a[53]=(0,l.eW)()),(0,l.Lk)("span",Ee,(0,d.v_)(Ba.value?.name),1),a[54]||(a[54]=(0,l.eW)(" service permanently? Click ")),a[55]||(a[55]=(0,l.Lk)("span",{class:"fw-bold"},"Delete",-1)),a[56]||(a[56]=(0,l.eW)(" to delete permanently. Professionals with this service wont be able to access the platform anymore."))])]),(0,l.Lk)("div",{class:"modal-footer",id:"service-delete-modal-footer"},[(0,l.Lk)("button",{type:"button",class:"btn btn-danger",id:"service-delete-btn",onClick:za},"Delete")])])])]),(0,l.Q3)(" professional info modal "),(0,l.Lk)("div",Pe,[(0,l.Lk)("div",Re,[(0,l.Lk)("div",De,[a[77]||(a[77]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Professional Info"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"professional-info-modal-close-btn"})],-1)),(0,l.Lk)("div",Te,[a[76]||(a[76]=(0,l.Lk)("div",{class:"item-icon align-self-start item-info-icon"},[(0,l.Lk)("i",{class:"bi bi-person-fill-gear"})],-1)),(0,l.Lk)("div",Se,[(0,l.Lk)("p",qe,[a[58]||(a[58]=(0,l.Lk)("span",{class:"fw-bold"},"Name: ",-1)),(0,l.eW)((0,d.v_)(Aa.value?.name),1)]),(0,l.Lk)("p",Be,[a[59]||(a[59]=(0,l.Lk)("span",{class:"fw-bold"},"Email: ",-1)),(0,l.eW)((0,d.v_)(Aa.value?.email),1)]),(0,l.Lk)("p",Ae,[a[60]||(a[60]=(0,l.Lk)("span",{class:"fw-bold"},"Role: ",-1)),(0,l.eW)((0,d.v_)(Aa.value?.role),1)]),(0,l.Lk)("p",Ie,[a[61]||(a[61]=(0,l.Lk)("span",{class:"fw-bold"},"Status: ",-1)),(0,l.eW)((0,d.v_)(Aa.value?.status),1)]),(0,l.Lk)("p",Ue,[a[62]||(a[62]=(0,l.Lk)("span",{class:"fw-bold"},"Location: ",-1)),(0,l.eW)((0,d.v_)(Aa.value?.location),1)]),(0,l.Lk)("p",Fe,[a[63]||(a[63]=(0,l.Lk)("span",{class:"fw-bold"},"Pincode: ",-1)),(0,l.eW)((0,d.v_)(Aa.value?.pincode),1)]),(0,l.Lk)("p",Ne,[a[64]||(a[64]=(0,l.Lk)("span",{class:"fw-bold"},"Service: ",-1)),(0,l.eW)((0,d.v_)(Aa.value?.service?.name||"Service unavailable"),1)]),(0,l.Lk)("p",je,[a[65]||(a[65]=(0,l.Lk)("span",{class:"fw-bold"},"Description: ",-1)),(0,l.eW)((0,d.v_)(Aa.value?.description),1)]),(0,l.Lk)("p",Ke,[a[66]||(a[66]=(0,l.Lk)("span",{class:"fw-bold"},"Price: ",-1)),(0,l.eW)((0,d.v_)(Aa.value?.price)+" Rs",1)]),(0,l.Lk)("p",Xe,[a[67]||(a[67]=(0,l.Lk)("span",{class:"fw-bold"},"Duration: ",-1)),(0,l.eW)((0,d.v_)(Aa.value?.duration)+" Hrs",1)]),(0,l.Lk)("p",Qe,[a[68]||(a[68]=(0,l.Lk)("span",{class:"fw-bold"},"Rating: ",-1)),(0,l.eW)((0,d.v_)(Aa.value?.rating),1)]),(0,l.Lk)("p",Ve,[a[69]||(a[69]=(0,l.Lk)("span",{class:"fw-bold"},"Experience: ",-1)),(0,l.eW)((0,d.v_)(Aa.value?.experience)+" Years",1)]),(0,l.Lk)("p",Je,[a[70]||(a[70]=(0,l.Lk)("span",{class:"fw-bold"},"Created At: ",-1)),(0,l.eW)((0,d.v_)(new Date(Number(Aa.value?.createdAt)).toLocaleString()),1)]),a[75]||(a[75]=(0,l.Lk)("br",null,null,-1)),(0,l.Lk)("p",$e,[a[71]||(a[71]=(0,l.Lk)("span",{class:"fw-bold"},"Request Status: ",-1)),(0,l.eW)((0,d.v_)(Aa.value?.professionalRequest?.status),1)]),(0,l.Lk)("p",Oe,[a[72]||(a[72]=(0,l.Lk)("span",{class:"fw-bold"},"Request Status Info: ",-1)),(0,l.eW)((0,d.v_)(Aa.value?.professionalRequest?.statusInfo),1)]),(0,l.Lk)("p",He,[a[73]||(a[73]=(0,l.Lk)("span",{class:"fw-bold"},"Requested At: ",-1)),(0,l.eW)((0,d.v_)(new Date(Number(Aa.value?.professionalRequest?.createdAt)).toLocaleString()),1)]),(0,l.Lk)("p",ze,[a[74]||(a[74]=(0,l.Lk)("span",{class:"fw-bold"},"Request Closed At: ",-1)),(0,l.eW)((0,d.v_)(Aa.value?.professionalRequest?.closedAt?new Date(Number(Aa.value.value?.professionalRequest?.closedAt)).toLocaleString():"-"),1)])])])])])]),(0,l.Q3)(" professional review modal "),(0,l.Lk)("div",Ge,[(0,l.Lk)("div",Ye,[(0,l.Lk)("div",Me,[a[87]||(a[87]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Review Professional"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"professional-review-modal-close-btn"})],-1)),(0,l.Lk)("div",Ze,[(0,l.Lk)("p",ea,[a[78]||(a[78]=(0,l.Lk)("span",{class:"fw-bold"},"Current Status: ",-1)),(0,l.eW)((0,d.v_)(Aa.value?.professionalRequest?.status),1)]),(0,l.Lk)("p",aa,[a[79]||(a[79]=(0,l.Lk)("span",{class:"fw-bold"},"Requested At: ",-1)),(0,l.eW)((0,d.v_)(new Date(Number(Aa.value?.professionalRequest?.createdAt)).toLocaleString()),1)]),a[86]||(a[86]=(0,l.Lk)("br",null,null,-1)),(0,l.Lk)("p",sa,[a[80]||(a[80]=(0,l.eW)("Review ")),(0,l.Lk)("span",la,(0,d.v_)(Aa.value?.name)+" ("+(0,d.v_)(Aa.value?.email)+")",1),a[81]||(a[81]=(0,l.eW)(" and click ")),a[82]||(a[82]=(0,l.Lk)("span",{class:"fw-bold text-success"},"Approve",-1)),a[83]||(a[83]=(0,l.eW)(" to approve the professional or ")),a[84]||(a[84]=(0,l.Lk)("span",{class:"fw-bold text-danger"},"Decline",-1)),a[85]||(a[85]=(0,l.eW)(" to decline the request."))])]),(0,l.Lk)("div",{class:"modal-footer",id:"professional-review-modal-footer"},[(0,l.Lk)("button",{type:"button",class:"btn btn-danger",id:"professional-decline-btn",onClick:as},"Decline"),(0,l.Lk)("button",{type:"button",class:"btn btn-success",id:"professional-approve-btn",onClick:es},"Approve")])])])]),(0,l.Q3)(" professional delete modal "),(0,l.Lk)("div",ta,[(0,l.Lk)("div",da,[(0,l.Lk)("div",oa,[a[96]||(a[96]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Delete Professional"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"professional-delete-modal-close-btn"})],-1)),(0,l.Lk)("div",ia,[(0,l.Lk)("p",na,[a[88]||(a[88]=(0,l.eW)("Are you sure to ")),a[89]||(a[89]=(0,l.Lk)("span",{class:"fw-bold text-danger"},"DELETE",-1)),a[90]||(a[90]=(0,l.eW)()),(0,l.Lk)("span",ca,(0,d.v_)(Aa.value?.name)+" ("+(0,d.v_)(Aa.value?.email)+")",1),a[91]||(a[91]=(0,l.eW)(" permanently? Click ")),a[92]||(a[92]=(0,l.Lk)("span",{class:"fw-bold"},"Delete",-1)),a[93]||(a[93]=(0,l.eW)(" to delete permanently or ")),a[94]||(a[94]=(0,l.Lk)("span",{class:"fw-bold"},"Block",-1)),a[95]||(a[95]=(0,l.eW)(" to block the professional (you can unblock later)."))])]),(0,l.Lk)("div",ra,[(0,l.Lk)("button",{type:"button",class:"btn btn-dark",id:"professional-block-btn",onClick:Za},(0,d.v_)("active"===Aa.value?.status?"Block":"Unblock"),1),(0,l.Lk)("button",{type:"button",class:"btn btn-danger",id:"professional-delete-btn",onClick:Ma},"Delete")])])])]),(0,l.Q3)(" user info modal "),(0,l.Lk)("div",ua,[(0,l.Lk)("div",ba,[(0,l.Lk)("div",pa,[a[105]||(a[105]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"User Info"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"user-info-modal-close-btn"})],-1)),(0,l.Lk)("div",va,[a[104]||(a[104]=(0,l.Lk)("div",{class:"item-icon align-self-start item-info-icon"},[(0,l.Lk)("i",{class:"bi bi-person-fill"})],-1)),(0,l.Lk)("div",ma,[(0,l.Lk)("p",ka,[a[97]||(a[97]=(0,l.Lk)("span",{class:"fw-bold"},"Name: ",-1)),(0,l.eW)((0,d.v_)(Ia.value?.name),1)]),(0,l.Lk)("p",fa,[a[98]||(a[98]=(0,l.Lk)("span",{class:"fw-bold"},"Email: ",-1)),(0,l.eW)((0,d.v_)(Ia.value?.email),1)]),(0,l.Lk)("p",La,[a[99]||(a[99]=(0,l.Lk)("span",{class:"fw-bold"},"Role: ",-1)),(0,l.eW)((0,d.v_)(Ia.value?.role),1)]),(0,l.Lk)("p",ga,[a[100]||(a[100]=(0,l.Lk)("span",{class:"fw-bold"},"Status: ",-1)),(0,l.eW)((0,d.v_)(Ia.value?.status),1)]),(0,l.Lk)("p",wa,[a[101]||(a[101]=(0,l.Lk)("span",{class:"fw-bold"},"Location: ",-1)),(0,l.eW)((0,d.v_)(Ia.value?.location),1)]),(0,l.Lk)("p",ha,[a[102]||(a[102]=(0,l.Lk)("span",{class:"fw-bold"},"Pincode: ",-1)),(0,l.eW)((0,d.v_)(Ia.value?.pincode),1)]),(0,l.Lk)("p",ya,[a[103]||(a[103]=(0,l.Lk)("span",{class:"fw-bold"},"Created At: ",-1)),(0,l.eW)((0,d.v_)(new Date(Number(Ia.value?.createdAt)).toLocaleString()),1)])])])])])]),(0,l.Q3)(" user delete modal "),(0,l.Lk)("div",Ca,[(0,l.Lk)("div",xa,[(0,l.Lk)("div",Wa,[a[112]||(a[112]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Delete User"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"user-delete-modal-close-btn"})],-1)),(0,l.Lk)("div",_a,[(0,l.Lk)("p",Ea,[a[106]||(a[106]=(0,l.eW)("Are you sure to ")),a[107]||(a[107]=(0,l.Lk)("span",{class:"fw-bold text-danger"},"DELETE",-1)),a[108]||(a[108]=(0,l.eW)()),(0,l.Lk)("span",Pa,(0,d.v_)(Ia.value?.name)+" ("+(0,d.v_)(Ia.value?.email)+")",1),a[109]||(a[109]=(0,l.eW)(" permanently? Click ")),a[110]||(a[110]=(0,l.Lk)("span",{class:"fw-bold"},"Delete",-1)),a[111]||(a[111]=(0,l.eW)(" to proceed."))])]),(0,l.Lk)("div",Ra,[(0,l.Lk)("button",{type:"button",class:"btn btn-dark",id:"user-block-btn",onClick:Ya},(0,d.v_)("active"===Ia.value?.status?"Block":"Unblock"),1),(0,l.Lk)("button",{type:"button",class:"btn btn-danger",id:"user-delete-btn",onClick:Ga},"Delete")])])])])]))}}}}]);