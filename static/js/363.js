"use strict";(self.webpackChunkessential_mend=self.webpackChunkessential_mend||[]).push([[363],{7535:(e,s,a)=>{function l(e,s,a={}){"failure"===s&&(s="danger");const l=document.createElement("div");l.classList.add("position-fixed","ultra-z-index","top-0","start-50","translate-middle-x","alert",`alert-${s}`,"fade-in"),l.textContent=e,document.body.appendChild(l),setTimeout((()=>{setTimeout((()=>{document.body.removeChild(l),a.reloadOnTimeout&&window.location.reload()}),500)}),3e3),a.forceReload&&window.location.reload()}function t(e,s){e&&setTimeout((()=>{window.location.href=e}),s||0)}a.d(s,{T:()=>l,V:()=>t})},8363:(e,s,a)=>{a.r(s),a.d(s,{default:()=>pa});var l=a(822),t=a(4390),i=a(4526),n=a(7416),o=a(3826),c=a(7535),r=a(5695);const d={class:"flex-grow-1 d-flex flex-column h-100 p-2 bg-white rounded-start"},v={class:"tab-content flex-grow-1 overflow-scroll",id:"nav-tabContent"},u={class:"tab-pane fade show active",id:"nav-all-service-requests-panel",role:"tabpanel","aria-labelledby":"nav-all-service-requests-tab"},p={key:0,id:"all-service-request-not-found-text"},b={key:1},f={key:2,class:"pt-2 pb-2 d-flex flex-column gap-2 align-items-start h-100 overflow-hidden"},k=["onClick"],m={class:"flex-grow-1"},L={key:0,class:"m-0"},g={key:1,class:"m-0"},q={key:2,class:"m-0"},w={class:"m-0"},C={class:"m-0"},R={class:"m-0"},_={key:3,class:"m-0"},I={key:0,class:"d-flex gap-2"},y=["onClick"],A=["onClick"],W={key:1,class:"d-flex gap-2"},h=["onClick"],x={class:"tab-pane fade",id:"nav-pending-service-requests-panel",role:"tabpanel","aria-labelledby":"nav-pending-service-requests-tab"},E={key:0,id:"all-service-request-not-found-text"},P={key:1},X={key:2,class:"pt-2 pb-2 d-flex flex-column gap-2 align-items-start h-100 overflow-hidden"},S=["onClick"],D={class:"flex-grow-1"},Q={key:0,class:"m-0"},N={key:1,class:"m-0"},U={key:2,class:"m-0"},T={class:"m-0"},$={class:"m-0"},F={class:"m-0"},K={key:3,class:"m-0"},B={key:0,class:"d-flex gap-2"},M=["onClick"],Y=["onClick"],O={key:1,class:"d-flex gap-2"},j=["onClick"],V={class:"tab-pane fade",id:"nav-inprogress-service-requests-panel",role:"tabpanel","aria-labelledby":"nav-inprogress-service-requests-tab"},J={key:0,id:"all-service-request-not-found-text"},z={key:1},H={key:2,class:"pt-2 pb-2 d-flex flex-column gap-2 align-items-start h-100 overflow-hidden"},G=["onClick"],Z={class:"flex-grow-1"},ee={key:0,class:"m-0"},se={key:1,class:"m-0"},ae={key:2,class:"m-0"},le={class:"m-0"},te={class:"m-0"},ie={class:"m-0"},ne={key:3,class:"m-0"},oe={key:0,class:"d-flex gap-2"},ce=["onClick"],re=["onClick"],de={key:1,class:"d-flex gap-2"},ve=["onClick"],ue={class:"tab-pane fade",id:"nav-cancelled-service-requests-panel",role:"tabpanel","aria-labelledby":"nav-cancelled-service-requests-tab"},pe={key:0,id:"all-service-request-not-found-text"},be={key:1},fe={key:2,class:"pt-2 pb-2 d-flex flex-column gap-2 align-items-start h-100 overflow-hidden"},ke=["onClick"],me={class:"flex-grow-1"},Le={key:0,class:"m-0"},ge={key:1,class:"m-0"},qe={key:2,class:"m-0"},we={class:"m-0"},Ce={class:"m-0"},Re={class:"m-0"},_e={key:3,class:"m-0"},Ie={key:0,class:"d-flex gap-2"},ye=["onClick"],Ae=["onClick"],We={key:1,class:"d-flex gap-2"},he=["onClick"],xe={class:"tab-pane fade",id:"nav-completed-service-requests-panel",role:"tabpanel","aria-labelledby":"nav-completed-service-requests-tab"},Ee={key:0,id:"all-service-request-not-found-text"},Pe={key:1},Xe={key:2,class:"pt-2 pb-2 d-flex flex-column gap-2 align-items-start h-100 overflow-hidden"},Se=["onClick"],De={class:"flex-grow-1"},Qe={key:0,class:"m-0"},Ne={key:1,class:"m-0"},Ue={key:2,class:"m-0"},Te={class:"m-0"},$e={class:"m-0"},Fe={class:"m-0"},Ke={key:3,class:"m-0"},Be={key:0,class:"d-flex gap-2"},Me=["onClick"],Ye=["onClick"],Oe={key:1,class:"d-flex gap-2"},je=["onClick"],Ve={class:"modal fade",id:"service-request-info-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Je={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},ze={class:"modal-content"},He={class:"modal-body",id:"service-request-info-modal-body"},Ge={class:"m-0"},Ze={class:"m-0"},es={class:"m-0"},ss={class:"m-0"},as={class:"m-0"},ls={class:"m-0"},ts={class:"m-0"},is={class:"m-0"},ns={class:"m-0"},os={class:"m-0"},cs={class:"m-0"},rs={class:"m-0"},ds={class:"m-0"},vs={class:"m-0"},us={class:"m-0"},ps={class:"m-0"},bs={class:"m-0"},fs={class:"m-0"},ks={class:"m-0"},ms={class:"m-0"},Ls={class:"m-0"},gs={class:"m-0"},qs={class:"m-0"},ws={class:"m-0"},Cs={class:"d-flex flex-column gap-1"},Rs={key:0},_s={class:"d-flex flex-column"},Is={class:"m-0 fw-bold"},ys={class:"m-0 small"},As={class:"m-0"},Ws={class:"m-0"},hs={class:"modal fade",id:"service-request-accept-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},xs={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Es={class:"modal-content"},Ps={class:"modal-header"},Xs={class:"modal-title fs-5",id:"staticBackdropLabel"},Ss={class:"modal-body",id:"service-request-accept-modal-body"},Ds={class:"m-0"},Qs={class:"fw-bold text-success"},Ns={class:"m-0"},Us={class:"m-0"},Ts={class:"m-0"},$s={class:"m-0"},Fs={class:"m-0"},Ks={class:"modal fade",id:"service-request-cancel-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Bs={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Ms={class:"modal-content"},Ys={class:"modal-body",id:"service-request-cancel-modal-body"},Os={class:"m-0"},js={class:"m-0"},Vs={class:"m-0"},Js={class:"m-0"},zs={class:"m-0"},Hs={class:"modal fade",id:"service-request-review-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Gs={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Zs={class:"modal-content"},ea={class:"modal-body"},sa={class:"d-flex flex-column gap-2"},aa={class:"d-flex flex-column gap-2"},la={id:"service-request-review-modal-body"},ta={class:"mt-2"},ia={class:"fw-bold"},na={class:"d-flex flex-column gap-1"},oa={key:0},ca={class:"d-flex flex-column"},ra={class:"m-0 fw-bold"},da={class:"m-0 small"},va={class:"m-0"},ua={class:"m-0"},pa={__name:"ServiceRequests",setup(e){const s=(0,o.C)(),a=(0,t.KR)(!0),pa=(0,t.KR)(null),ba=(0,t.KR)(""),fa=(0,t.KR)(""),ka=e=>"pending"===e?"bg-grayblack":"inprogress"===e?"bg-info":"completed"===e?"bg-success":"cancelled"===e?"bg-danger":"",ma=(0,l.EW)((()=>s.serviceRequests.every((e=>"inprogress"!==e.status))));(0,l.sV)((()=>{fetch("/api/servicerequest").then((e=>e.json())).then((e=>{s.serviceRequests=e.data.serviceRequests})).catch((e=>{(0,c.T)("Failed to fetch service requests")})).finally((()=>{a.value=!1}))}));const La=e=>{pa.value=s.serviceRequests.find((s=>s.reqid===e))},ga=()=>pa?.value?.pid===r.A.uid?pa?.value?.userInfo:pa?.value?.professionalInfo,qa=()=>{const e=new FormData;e.append("mode",r.A.isProfessional?"accept":"complete"),e.append("pid",pa.value.pid),e.append("sid",pa.value.sid),e.append("cid",pa.value.cid),e.append("reqid",pa.value.reqid),fetch("/api/servicerequest",{method:"POST",body:e}).then((e=>e.json())).then((e=>{if((0,c.T)(e.data.message,e.result),"success"===e.result){const a=s.serviceRequests.find((e=>e.reqid===pa.value.reqid));a&&(a.status=e.data.serviceRequest.status,a.statusInfo=e.data.serviceRequest.statusInfo,a.closedAt=e.data.serviceRequest.closedAt,a.isPending="pending"===a.status,a.isInProgress="inprogress"===a.status,a.isCompleted="completed"===a.status),document.getElementById("service-request-accept-close-btn").click()}})).catch((e=>{(0,c.T)("Failed to accept/complete service request","danger")}))},wa=()=>{const e=new FormData;e.append("mode","cancel"),e.append("pid",pa.value.pid),e.append("sid",pa.value.sid),e.append("cid",pa.value.cid),e.append("reqid",pa.value.reqid),fetch("/api/servicerequest",{method:"POST",body:e}).then((e=>e.json())).then((e=>{if((0,c.T)(e.data.message,e.result),"success"===e.result){const a=s.serviceRequests.find((e=>e.reqid===pa.value.reqid));a&&(a.status=e.data.status,a.statusInfo=e.data.serviceRequest.statusInfo,a.closedAt=e.data.serviceRequest.closedAt,a.isPending="pending"===a.status,a.isInProgress="inprogress"===a.status,a.isCompleted="completed"===a.status,a.isCancelled="cancelled"===a.status),document.getElementById("service-request-cancel-close-btn").click()}})).catch((e=>{(0,c.T)("Failed to cancel service request","danger")}))},Ca=()=>{const e=r.A.uid,a=[pa.value.pid,pa.value.cid].filter((s=>s!==e)).at(0),l=ba.value,t=fa.value?String(fa.value):"",i=pa.value.reqid;if(e&&a&&l&&t&&i){const n=new FormData;n.append("reviewType","review"),n.append("reviewerUid",e),n.append("revieweeUid",a),n.append("reviewText",l),n.append("reviewRating",t),n.append("reqid",i),fetch("/api/review",{method:"POST",body:n}).then((e=>e.json())).then((e=>{if((0,c.T)(e.data.message,e.result),"success"===e.result){ba.value="",fa.value="";const a=s.serviceRequests.find((e=>e.reqid===pa.value.reqid));a&&(a.reviews?a.reviews.unshift(e.data.review):a.reviews=[e.data.review]),pa.review?pa.review.unshift(e.data.review):pa.review=[e.data.review]}})).catch((e=>{(0,c.T)("Error occurred in reviewing the service, Try again","danger")}))}else(0,c.T)("Please provide all the review details","warning")};return(e,o)=>((0,l.uX)(),(0,l.CE)("section",d,[o[135]||(o[135]=(0,l.Lk)("h1",null,"Service Requests",-1)),o[136]||(o[136]=(0,l.Lk)("nav",null,[(0,l.Lk)("div",{class:"nav nav-tabs",id:"nav-tab",role:"tablist"},[(0,l.Lk)("button",{class:"nav-link active text-black",id:"nav-all-service-requests-tab","data-bs-toggle":"tab","data-bs-target":"#nav-all-service-requests-panel",type:"button",role:"tab","aria-controls":"nav-all-service-requests-panel","aria-selected":"true"},"All Requests"),(0,l.Lk)("button",{class:"nav-link text-black",id:"nav-pending-service-requests-tab","data-bs-toggle":"tab","data-bs-target":"#nav-pending-service-requests-panel",type:"button",role:"tab","aria-controls":"nav-pending-service-requests-panel","aria-selected":"false"},"Pending"),(0,l.Lk)("button",{class:"nav-link text-black",id:"nav-inprogress-service-requests-tab","data-bs-toggle":"tab","data-bs-target":"#nav-inprogress-service-requests-panel",type:"button",role:"tab","aria-controls":"nav-inprogress-service-requests-panel","aria-selected":"false"},"InProgress"),(0,l.Lk)("button",{class:"nav-link text-black",id:"nav-cancelled-service-requests-tab","data-bs-toggle":"tab","data-bs-target":"#nav-cancelled-service-requests-panel",type:"button",role:"tab","aria-controls":"nav-cancelled-service-requests-panel","aria-selected":"false"},"Cancelled"),(0,l.Lk)("button",{class:"nav-link text-black",id:"nav-completed-service-requests-tab","data-bs-toggle":"tab","data-bs-target":"#nav-completed-service-requests-panel",type:"button",role:"tab","aria-controls":"nav-completed-service-requests-panel","aria-selected":"false"},"Completed")])],-1)),(0,l.Lk)("div",v,[(0,l.Q3)(" All Requests Tab "),(0,l.Lk)("div",u,[a.value?((0,l.uX)(),(0,l.CE)("p",p,"Service requests loading")):a.value||0!==(0,t.R1)(s).serviceRequests.length?((0,l.uX)(),(0,l.CE)("div",f,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,t.R1)(s).serviceRequests,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.reqid,class:(0,i.C4)(["p-2 rounded d-flex gap-4 align-items-center w-100 service-request-item",ka(e.status)]),onClick:s=>La(e.reqid),"data-bs-toggle":"modal","data-bs-target":"#service-request-info-modal"},[o[29]||(o[29]=(0,l.Lk)("div",{class:"item-icon"},[(0,l.Lk)("i",{class:"bi bi-hammer"})],-1)),(0,l.Lk)("div",m,[(0,t.R1)(r.A).isAdmin?((0,l.uX)(),(0,l.CE)("p",L,[o[17]||(o[17]=(0,l.Lk)("span",{class:"fw-bold"},"Service: ",-1)),(0,l.eW)((0,i.v_)(e.serviceInfo.name)+" | ",1),o[18]||(o[18]=(0,l.Lk)("span",{class:"fw-bold"},"Professional: ",-1)),(0,l.eW)((0,i.v_)(e.professionalInfo.name)+" ("+(0,i.v_)(e.professionalInfo.email)+") | ",1),o[19]||(o[19]=(0,l.Lk)("span",{class:"fw-bold"},"User: ",-1)),(0,l.eW)((0,i.v_)(e.userInfo.name)+" ("+(0,i.v_)(e.userInfo.email)+")",1)])):(0,t.R1)(r.A).isProfessional?((0,l.uX)(),(0,l.CE)("p",g,[o[20]||(o[20]=(0,l.Lk)("span",{class:"fw-bold"},"User: ",-1)),(0,l.eW)((0,i.v_)(e.userInfo.name)+" ("+(0,i.v_)(e.userInfo.email)+")",1)])):(0,t.R1)(r.A).isUser?((0,l.uX)(),(0,l.CE)("p",q,[o[21]||(o[21]=(0,l.Lk)("span",{class:"fw-bold"},"Service: ",-1)),(0,l.eW)((0,i.v_)(e.serviceInfo.name)+" | ",1),o[22]||(o[22]=(0,l.Lk)("span",{class:"fw-bold"},"Professional: ",-1)),(0,l.eW)((0,i.v_)(e.professionalInfo.name)+" ("+(0,i.v_)(e.professionalInfo.email)+")",1)])):(0,l.Q3)("v-if",!0),(0,l.Lk)("p",w,[o[23]||(o[23]=(0,l.Lk)("span",{class:"fw-bold"},"Status: ",-1)),(0,l.eW)((0,i.v_)(e.status),1)]),(0,l.Lk)("p",C,[o[24]||(o[24]=(0,l.Lk)("span",{class:"fw-bold"},"Status Info: ",-1)),(0,l.eW)((0,i.v_)(e.statusInfo),1)]),(0,l.Lk)("p",R,[o[25]||(o[25]=(0,l.Lk)("span",{class:"fw-bold"},"Created At: ",-1)),(0,l.eW)((0,i.v_)(new Date(Number(e.createdAt))),1)]),e.isCompleted||e.isCancelled?((0,l.uX)(),(0,l.CE)("p",_,[o[26]||(o[26]=(0,l.Lk)("span",{class:"fw-bold"},"Closed At: ",-1)),(0,l.eW)((0,i.v_)(new Date(Number(e.closedAt))),1)])):(0,l.Q3)("v-if",!0)]),e.isPending||e.isInProgress?((0,l.uX)(),(0,l.CE)("div",I,[(0,t.R1)(r.A).isUser&&e.isInProgress||(0,t.R1)(r.A).isProfessional&&e.isPending&&ma.value?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:[s=>La(e.reqid),o[0]||(o[0]=(0,n.D$)((()=>{}),["stop"]))],class:"btn btn-success service-request-accept-btn","data-bs-toggle":"modal","data-bs-target":"#service-request-accept-modal"},o[27]||(o[27]=[(0,l.Lk)("i",{class:"bi bi-check-square"},null,-1)]),8,y)):(0,l.Q3)("v-if",!0),(0,l.Lk)("button",{onClick:[s=>La(e.reqid),o[1]||(o[1]=(0,n.D$)((()=>{}),["stop"]))],class:"btn btn-danger service-request-cancel-btn","data-bs-toggle":"modal","data-bs-target":"#service-request-cancel-modal"},o[28]||(o[28]=[(0,l.Lk)("i",{class:"bi bi-x-square"},null,-1)]),8,A)])):(0,l.Q3)("v-if",!0),((0,t.R1)(r.A).isUser||(0,t.R1)(r.A).isProfessional)&&(e.isCancelled||e.isCompleted)?((0,l.uX)(),(0,l.CE)("div",W,[(0,l.Lk)("button",{onClick:[s=>La(e.reqid),o[2]||(o[2]=(0,n.D$)((()=>{}),["stop"]))],class:"btn btn-dark service-request-review-btn","data-bs-toggle":"modal","data-bs-target":"#service-request-review-modal"},"Review",8,h)])):(0,l.Q3)("v-if",!0)],10,k)))),128))])):((0,l.uX)(),(0,l.CE)("p",b,"No Service requests Yet!"))]),(0,l.Q3)(" Pending Requests Tab "),(0,l.Lk)("div",x,[a.value?((0,l.uX)(),(0,l.CE)("p",E,"Service requests loading")):a.value||0!==(0,t.R1)(s).serviceRequests.filter((e=>e.isPending)).length?((0,l.uX)(),(0,l.CE)("div",X,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,t.R1)(s).serviceRequests.filter((e=>e.isPending)),(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.reqid,class:(0,i.C4)(["p-2 rounded d-flex gap-4 align-items-center w-100 service-request-item",ka(e.status)]),onClick:s=>La(e.reqid),"data-bs-toggle":"modal","data-bs-target":"#service-request-info-modal"},[o[42]||(o[42]=(0,l.Lk)("div",{class:"item-icon"},[(0,l.Lk)("i",{class:"bi bi-hammer"})],-1)),(0,l.Lk)("div",D,[(0,t.R1)(r.A).isAdmin?((0,l.uX)(),(0,l.CE)("p",Q,[o[30]||(o[30]=(0,l.Lk)("span",{class:"fw-bold"},"Service: ",-1)),(0,l.eW)((0,i.v_)(e.serviceInfo.name)+" | ",1),o[31]||(o[31]=(0,l.Lk)("span",{class:"fw-bold"},"Professional: ",-1)),(0,l.eW)((0,i.v_)(e.professionalInfo.name)+" ("+(0,i.v_)(e.professionalInfo.email)+") | ",1),o[32]||(o[32]=(0,l.Lk)("span",{class:"fw-bold"},"User: ",-1)),(0,l.eW)((0,i.v_)(e.userInfo.name)+" ("+(0,i.v_)(e.userInfo.email)+")",1)])):(0,t.R1)(r.A).isProfessional?((0,l.uX)(),(0,l.CE)("p",N,[o[33]||(o[33]=(0,l.Lk)("span",{class:"fw-bold"},"User: ",-1)),(0,l.eW)((0,i.v_)(e.userInfo.name)+" ("+(0,i.v_)(e.userInfo.email)+")",1)])):(0,t.R1)(r.A).isUser?((0,l.uX)(),(0,l.CE)("p",U,[o[34]||(o[34]=(0,l.Lk)("span",{class:"fw-bold"},"Service: ",-1)),(0,l.eW)((0,i.v_)(e.serviceInfo.name)+" | ",1),o[35]||(o[35]=(0,l.Lk)("span",{class:"fw-bold"},"Professional: ",-1)),(0,l.eW)((0,i.v_)(e.professionalInfo.name)+" ("+(0,i.v_)(e.professionalInfo.email)+")",1)])):(0,l.Q3)("v-if",!0),(0,l.Lk)("p",T,[o[36]||(o[36]=(0,l.Lk)("span",{class:"fw-bold"},"Status: ",-1)),(0,l.eW)((0,i.v_)(e.status),1)]),(0,l.Lk)("p",$,[o[37]||(o[37]=(0,l.Lk)("span",{class:"fw-bold"},"Status Info: ",-1)),(0,l.eW)((0,i.v_)(e.statusInfo),1)]),(0,l.Lk)("p",F,[o[38]||(o[38]=(0,l.Lk)("span",{class:"fw-bold"},"Created At: ",-1)),(0,l.eW)((0,i.v_)(new Date(Number(e.createdAt))),1)]),e.isCompleted||e.isCancelled?((0,l.uX)(),(0,l.CE)("p",K,[o[39]||(o[39]=(0,l.Lk)("span",{class:"fw-bold"},"Closed At: ",-1)),(0,l.eW)((0,i.v_)(new Date(Number(e.closedAt))),1)])):(0,l.Q3)("v-if",!0)]),e.isPending||e.isInProgress?((0,l.uX)(),(0,l.CE)("div",B,[(0,t.R1)(r.A).isUser&&e.isInProgress||(0,t.R1)(r.A).isProfessional&&e.isPending&&ma.value?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:[s=>La(e.reqid),o[3]||(o[3]=(0,n.D$)((()=>{}),["stop"]))],class:"btn btn-success service-request-accept-btn","data-bs-toggle":"modal","data-bs-target":"#service-request-accept-modal"},o[40]||(o[40]=[(0,l.Lk)("i",{class:"bi bi-check-square"},null,-1)]),8,M)):(0,l.Q3)("v-if",!0),(0,l.Lk)("button",{onClick:[s=>La(e.reqid),o[4]||(o[4]=(0,n.D$)((()=>{}),["stop"]))],class:"btn btn-danger service-request-cancel-btn","data-bs-toggle":"modal","data-bs-target":"#service-request-cancel-modal"},o[41]||(o[41]=[(0,l.Lk)("i",{class:"bi bi-x-square"},null,-1)]),8,Y)])):(0,l.Q3)("v-if",!0),((0,t.R1)(r.A).isUser||(0,t.R1)(r.A).isProfessional)&&(e.isCancelled||e.isCompleted)?((0,l.uX)(),(0,l.CE)("div",O,[(0,l.Lk)("button",{onClick:[s=>La(e.reqid),o[5]||(o[5]=(0,n.D$)((()=>{}),["stop"]))],class:"btn btn-dark service-request-review-btn","data-bs-toggle":"modal","data-bs-target":"#service-request-review-modal"},"Review",8,j)])):(0,l.Q3)("v-if",!0)],10,S)))),128))])):((0,l.uX)(),(0,l.CE)("p",P,"No Pending Service Requests Yet!"))]),(0,l.Q3)(" InProgress Requests Tab "),(0,l.Lk)("div",V,[a.value?((0,l.uX)(),(0,l.CE)("p",J,"Service requests loading")):a.value||0!==(0,t.R1)(s).serviceRequests.filter((e=>e.isInProgress)).length?((0,l.uX)(),(0,l.CE)("div",H,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,t.R1)(s).serviceRequests.filter((e=>e.isInProgress)),(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.reqid,class:(0,i.C4)(["p-2 rounded d-flex gap-4 align-items-center w-100 service-request-item",ka(e.status)]),onClick:s=>La(e.reqid),"data-bs-toggle":"modal","data-bs-target":"#service-request-info-modal"},[o[55]||(o[55]=(0,l.Lk)("div",{class:"item-icon"},[(0,l.Lk)("i",{class:"bi bi-hammer"})],-1)),(0,l.Lk)("div",Z,[(0,t.R1)(r.A).isAdmin?((0,l.uX)(),(0,l.CE)("p",ee,[o[43]||(o[43]=(0,l.Lk)("span",{class:"fw-bold"},"Service: ",-1)),(0,l.eW)((0,i.v_)(e.serviceInfo.name)+" | ",1),o[44]||(o[44]=(0,l.Lk)("span",{class:"fw-bold"},"Professional: ",-1)),(0,l.eW)((0,i.v_)(e.professionalInfo.name)+" ("+(0,i.v_)(e.professionalInfo.email)+") | ",1),o[45]||(o[45]=(0,l.Lk)("span",{class:"fw-bold"},"User: ",-1)),(0,l.eW)((0,i.v_)(e.userInfo.name)+" ("+(0,i.v_)(e.userInfo.email)+")",1)])):(0,t.R1)(r.A).isProfessional?((0,l.uX)(),(0,l.CE)("p",se,[o[46]||(o[46]=(0,l.Lk)("span",{class:"fw-bold"},"User: ",-1)),(0,l.eW)((0,i.v_)(e.userInfo.name)+" ("+(0,i.v_)(e.userInfo.email)+")",1)])):(0,t.R1)(r.A).isUser?((0,l.uX)(),(0,l.CE)("p",ae,[o[47]||(o[47]=(0,l.Lk)("span",{class:"fw-bold"},"Service: ",-1)),(0,l.eW)((0,i.v_)(e.serviceInfo.name)+" | ",1),o[48]||(o[48]=(0,l.Lk)("span",{class:"fw-bold"},"Professional: ",-1)),(0,l.eW)((0,i.v_)(e.professionalInfo.name)+" ("+(0,i.v_)(e.professionalInfo.email)+")",1)])):(0,l.Q3)("v-if",!0),(0,l.Lk)("p",le,[o[49]||(o[49]=(0,l.Lk)("span",{class:"fw-bold"},"Status: ",-1)),(0,l.eW)((0,i.v_)(e.status),1)]),(0,l.Lk)("p",te,[o[50]||(o[50]=(0,l.Lk)("span",{class:"fw-bold"},"Status Info: ",-1)),(0,l.eW)((0,i.v_)(e.statusInfo),1)]),(0,l.Lk)("p",ie,[o[51]||(o[51]=(0,l.Lk)("span",{class:"fw-bold"},"Created At: ",-1)),(0,l.eW)((0,i.v_)(new Date(Number(e.createdAt))),1)]),e.isCompleted||e.isCancelled?((0,l.uX)(),(0,l.CE)("p",ne,[o[52]||(o[52]=(0,l.Lk)("span",{class:"fw-bold"},"Closed At: ",-1)),(0,l.eW)((0,i.v_)(new Date(Number(e.closedAt))),1)])):(0,l.Q3)("v-if",!0)]),e.isPending||e.isInProgress?((0,l.uX)(),(0,l.CE)("div",oe,[(0,t.R1)(r.A).isUser&&e.isInProgress||(0,t.R1)(r.A).isProfessional&&e.isPending&&ma.value?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:[s=>La(e.reqid),o[6]||(o[6]=(0,n.D$)((()=>{}),["stop"]))],class:"btn btn-success service-request-accept-btn","data-bs-toggle":"modal","data-bs-target":"#service-request-accept-modal"},o[53]||(o[53]=[(0,l.Lk)("i",{class:"bi bi-check-square"},null,-1)]),8,ce)):(0,l.Q3)("v-if",!0),(0,l.Lk)("button",{onClick:[s=>La(e.reqid),o[7]||(o[7]=(0,n.D$)((()=>{}),["stop"]))],class:"btn btn-danger service-request-cancel-btn","data-bs-toggle":"modal","data-bs-target":"#service-request-cancel-modal"},o[54]||(o[54]=[(0,l.Lk)("i",{class:"bi bi-x-square"},null,-1)]),8,re)])):(0,l.Q3)("v-if",!0),((0,t.R1)(r.A).isUser||(0,t.R1)(r.A).isProfessional)&&(e.isCancelled||e.isCompleted)?((0,l.uX)(),(0,l.CE)("div",de,[(0,l.Lk)("button",{onClick:[s=>La(e.reqid),o[8]||(o[8]=(0,n.D$)((()=>{}),["stop"]))],class:"btn btn-dark service-request-review-btn","data-bs-toggle":"modal","data-bs-target":"#service-request-review-modal"},"Review",8,ve)])):(0,l.Q3)("v-if",!0)],10,G)))),128))])):((0,l.uX)(),(0,l.CE)("p",z,"No InProgress Service Requests Yet!"))]),(0,l.Q3)(" Cancelled Requests Tab "),(0,l.Lk)("div",ue,[a.value?((0,l.uX)(),(0,l.CE)("p",pe,"Service requests loading")):a.value||0!==(0,t.R1)(s).serviceRequests.filter((e=>e.isCancelled)).length?((0,l.uX)(),(0,l.CE)("div",fe,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,t.R1)(s).serviceRequests.filter((e=>e.isCancelled)),(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.reqid,class:(0,i.C4)(["p-2 rounded d-flex gap-4 align-items-center w-100 service-request-item",ka(e.status)]),onClick:s=>La(e.reqid),"data-bs-toggle":"modal","data-bs-target":"#service-request-info-modal"},[o[68]||(o[68]=(0,l.Lk)("div",{class:"item-icon"},[(0,l.Lk)("i",{class:"bi bi-hammer"})],-1)),(0,l.Lk)("div",me,[(0,t.R1)(r.A).isAdmin?((0,l.uX)(),(0,l.CE)("p",Le,[o[56]||(o[56]=(0,l.Lk)("span",{class:"fw-bold"},"Service: ",-1)),(0,l.eW)((0,i.v_)(e.serviceInfo.name)+" | ",1),o[57]||(o[57]=(0,l.Lk)("span",{class:"fw-bold"},"Professional: ",-1)),(0,l.eW)((0,i.v_)(e.professionalInfo.name)+" ("+(0,i.v_)(e.professionalInfo.email)+") | ",1),o[58]||(o[58]=(0,l.Lk)("span",{class:"fw-bold"},"User: ",-1)),(0,l.eW)((0,i.v_)(e.userInfo.name)+" ("+(0,i.v_)(e.userInfo.email)+")",1)])):(0,t.R1)(r.A).isProfessional?((0,l.uX)(),(0,l.CE)("p",ge,[o[59]||(o[59]=(0,l.Lk)("span",{class:"fw-bold"},"User: ",-1)),(0,l.eW)((0,i.v_)(e.userInfo.name)+" ("+(0,i.v_)(e.userInfo.email)+")",1)])):(0,t.R1)(r.A).isUser?((0,l.uX)(),(0,l.CE)("p",qe,[o[60]||(o[60]=(0,l.Lk)("span",{class:"fw-bold"},"Service: ",-1)),(0,l.eW)((0,i.v_)(e.serviceInfo.name)+" | ",1),o[61]||(o[61]=(0,l.Lk)("span",{class:"fw-bold"},"Professional: ",-1)),(0,l.eW)((0,i.v_)(e.professionalInfo.name)+" ("+(0,i.v_)(e.professionalInfo.email)+")",1)])):(0,l.Q3)("v-if",!0),(0,l.Lk)("p",we,[o[62]||(o[62]=(0,l.Lk)("span",{class:"fw-bold"},"Status: ",-1)),(0,l.eW)((0,i.v_)(e.status),1)]),(0,l.Lk)("p",Ce,[o[63]||(o[63]=(0,l.Lk)("span",{class:"fw-bold"},"Status Info: ",-1)),(0,l.eW)((0,i.v_)(e.statusInfo),1)]),(0,l.Lk)("p",Re,[o[64]||(o[64]=(0,l.Lk)("span",{class:"fw-bold"},"Created At: ",-1)),(0,l.eW)((0,i.v_)(new Date(Number(e.createdAt))),1)]),e.isCompleted||e.isCancelled?((0,l.uX)(),(0,l.CE)("p",_e,[o[65]||(o[65]=(0,l.Lk)("span",{class:"fw-bold"},"Closed At: ",-1)),(0,l.eW)((0,i.v_)(new Date(Number(e.closedAt))),1)])):(0,l.Q3)("v-if",!0)]),e.isPending||e.isInProgress?((0,l.uX)(),(0,l.CE)("div",Ie,[(0,t.R1)(r.A).isUser&&e.isInProgress||(0,t.R1)(r.A).isProfessional&&e.isPending&&ma.value?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:[s=>La(e.reqid),o[9]||(o[9]=(0,n.D$)((()=>{}),["stop"]))],class:"btn btn-success service-request-accept-btn","data-bs-toggle":"modal","data-bs-target":"#service-request-accept-modal"},o[66]||(o[66]=[(0,l.Lk)("i",{class:"bi bi-check-square"},null,-1)]),8,ye)):(0,l.Q3)("v-if",!0),(0,l.Lk)("button",{onClick:[s=>La(e.reqid),o[10]||(o[10]=(0,n.D$)((()=>{}),["stop"]))],class:"btn btn-danger service-request-cancel-btn","data-bs-toggle":"modal","data-bs-target":"#service-request-cancel-modal"},o[67]||(o[67]=[(0,l.Lk)("i",{class:"bi bi-x-square"},null,-1)]),8,Ae)])):(0,l.Q3)("v-if",!0),((0,t.R1)(r.A).isUser||(0,t.R1)(r.A).isProfessional)&&(e.isCancelled||e.isCompleted)?((0,l.uX)(),(0,l.CE)("div",We,[(0,l.Lk)("button",{onClick:[s=>La(e.reqid),o[11]||(o[11]=(0,n.D$)((()=>{}),["stop"]))],class:"btn btn-dark service-request-review-btn","data-bs-toggle":"modal","data-bs-target":"#service-request-review-modal"},"Review",8,he)])):(0,l.Q3)("v-if",!0)],10,ke)))),128))])):((0,l.uX)(),(0,l.CE)("p",be,"No Cancelled Service Requests Yet!"))]),(0,l.Q3)(" Completed Requests Tab "),(0,l.Lk)("div",xe,[a.value?((0,l.uX)(),(0,l.CE)("p",Ee,"Service requests loading")):a.value||0!==(0,t.R1)(s).serviceRequests.filter((e=>e.isCompleted)).length?((0,l.uX)(),(0,l.CE)("div",Xe,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,t.R1)(s).serviceRequests.filter((e=>e.isCompleted)),(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.reqid,class:(0,i.C4)(["p-2 rounded d-flex gap-4 align-items-center w-100 service-request-item",ka(e.status)]),onClick:s=>La(e.reqid),"data-bs-toggle":"modal","data-bs-target":"#service-request-info-modal"},[o[81]||(o[81]=(0,l.Lk)("div",{class:"item-icon"},[(0,l.Lk)("i",{class:"bi bi-hammer"})],-1)),(0,l.Lk)("div",De,[(0,t.R1)(r.A).isAdmin?((0,l.uX)(),(0,l.CE)("p",Qe,[o[69]||(o[69]=(0,l.Lk)("span",{class:"fw-bold"},"Service: ",-1)),(0,l.eW)((0,i.v_)(e.serviceInfo.name)+" | ",1),o[70]||(o[70]=(0,l.Lk)("span",{class:"fw-bold"},"Professional: ",-1)),(0,l.eW)((0,i.v_)(e.professionalInfo.name)+" ("+(0,i.v_)(e.professionalInfo.email)+") | ",1),o[71]||(o[71]=(0,l.Lk)("span",{class:"fw-bold"},"User: ",-1)),(0,l.eW)((0,i.v_)(e.userInfo.name)+" ("+(0,i.v_)(e.userInfo.email)+")",1)])):(0,t.R1)(r.A).isProfessional?((0,l.uX)(),(0,l.CE)("p",Ne,[o[72]||(o[72]=(0,l.Lk)("span",{class:"fw-bold"},"User: ",-1)),(0,l.eW)((0,i.v_)(e.userInfo.name)+" ("+(0,i.v_)(e.userInfo.email)+")",1)])):(0,t.R1)(r.A).isUser?((0,l.uX)(),(0,l.CE)("p",Ue,[o[73]||(o[73]=(0,l.Lk)("span",{class:"fw-bold"},"Service: ",-1)),(0,l.eW)((0,i.v_)(e.serviceInfo.name)+" | ",1),o[74]||(o[74]=(0,l.Lk)("span",{class:"fw-bold"},"Professional: ",-1)),(0,l.eW)((0,i.v_)(e.professionalInfo.name)+" ("+(0,i.v_)(e.professionalInfo.email)+")",1)])):(0,l.Q3)("v-if",!0),(0,l.Lk)("p",Te,[o[75]||(o[75]=(0,l.Lk)("span",{class:"fw-bold"},"Status: ",-1)),(0,l.eW)((0,i.v_)(e.status),1)]),(0,l.Lk)("p",$e,[o[76]||(o[76]=(0,l.Lk)("span",{class:"fw-bold"},"Status Info: ",-1)),(0,l.eW)((0,i.v_)(e.statusInfo),1)]),(0,l.Lk)("p",Fe,[o[77]||(o[77]=(0,l.Lk)("span",{class:"fw-bold"},"Created At: ",-1)),(0,l.eW)((0,i.v_)(new Date(Number(e.createdAt))),1)]),e.isCompleted||e.isCancelled?((0,l.uX)(),(0,l.CE)("p",Ke,[o[78]||(o[78]=(0,l.Lk)("span",{class:"fw-bold"},"Closed At: ",-1)),(0,l.eW)((0,i.v_)(new Date(Number(e.closedAt))),1)])):(0,l.Q3)("v-if",!0)]),e.isPending||e.isInProgress?((0,l.uX)(),(0,l.CE)("div",Be,[(0,t.R1)(r.A).isUser&&e.isInProgress||(0,t.R1)(r.A).isProfessional&&e.isPending&&ma.value?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:[s=>La(e.reqid),o[12]||(o[12]=(0,n.D$)((()=>{}),["stop"]))],class:"btn btn-success service-request-accept-btn","data-bs-toggle":"modal","data-bs-target":"#service-request-accept-modal"},o[79]||(o[79]=[(0,l.Lk)("i",{class:"bi bi-check-square"},null,-1)]),8,Me)):(0,l.Q3)("v-if",!0),(0,l.Lk)("button",{onClick:[s=>La(e.reqid),o[13]||(o[13]=(0,n.D$)((()=>{}),["stop"]))],class:"btn btn-danger service-request-cancel-btn","data-bs-toggle":"modal","data-bs-target":"#service-request-cancel-modal"},o[80]||(o[80]=[(0,l.Lk)("i",{class:"bi bi-x-square"},null,-1)]),8,Ye)])):(0,l.Q3)("v-if",!0),((0,t.R1)(r.A).isUser||(0,t.R1)(r.A).isProfessional)&&(e.isCancelled||e.isCompleted)?((0,l.uX)(),(0,l.CE)("div",Oe,[(0,l.Lk)("button",{onClick:[s=>La(e.reqid),o[14]||(o[14]=(0,n.D$)((()=>{}),["stop"]))],class:"btn btn-dark service-request-review-btn","data-bs-toggle":"modal","data-bs-target":"#service-request-review-modal"},"Review",8,je)])):(0,l.Q3)("v-if",!0)],10,Se)))),128))])):((0,l.uX)(),(0,l.CE)("p",Pe,"No Completed Service Requests Yet!"))])]),(0,l.Q3)(" Modals "),(0,l.Q3)(" Service Request Info Modal "),(0,l.Lk)("div",Ve,[(0,l.Lk)("div",Je,[(0,l.Lk)("div",ze,[o[114]||(o[114]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Service Request Info"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"service-request-info-close-btn"})],-1)),(0,l.Lk)("div",He,[(0,l.Lk)("p",Ge,[o[82]||(o[82]=(0,l.Lk)("span",{class:"fw-bold"},"Service Request: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.serviceInfo?.name),1)]),(0,l.Lk)("p",Ze,[o[83]||(o[83]=(0,l.Lk)("span",{class:"fw-bold"},"Request Status: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.status),1)]),(0,l.Lk)("p",es,[o[84]||(o[84]=(0,l.Lk)("span",{class:"fw-bold"},"Request Status Info: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.statusInfo),1)]),(0,l.Lk)("p",ss,[o[85]||(o[85]=(0,l.Lk)("span",{class:"fw-bold"},"Requested At: ",-1)),(0,l.eW)((0,i.v_)(new Date(Number(pa.value?.createdAt))),1)]),(0,l.Lk)("p",as,[o[86]||(o[86]=(0,l.Lk)("span",{class:"fw-bold"},"Request Closed At: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.closedAt?new Date(Number(pa.value?.closedAt)):"-"),1)]),(0,t.R1)(r.A).isAdmin||(0,t.R1)(r.A).isUser?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[o[99]||(o[99]=(0,l.Lk)("hr",{class:"mt-2 mb-2"},null,-1)),o[100]||(o[100]=(0,l.Lk)("p",{class:"m-0 fw-bold"},"Professional Info:",-1)),(0,l.Lk)("p",ls,[o[87]||(o[87]=(0,l.Lk)("span",{class:"fw-bold"},"Name: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.professionalInfo?.name),1)]),(0,l.Lk)("p",ts,[o[88]||(o[88]=(0,l.Lk)("span",{class:"fw-bold"},"Email: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.professionalInfo?.email),1)]),(0,l.Lk)("p",is,[o[89]||(o[89]=(0,l.Lk)("span",{class:"fw-bold"},"Role: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.professionalInfo?.role),1)]),(0,l.Lk)("p",ns,[o[90]||(o[90]=(0,l.Lk)("span",{class:"fw-bold"},"Status: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.professionalInfo?.status),1)]),(0,l.Lk)("p",os,[o[91]||(o[91]=(0,l.Lk)("span",{class:"fw-bold"},"Location: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.professionalInfo?.location),1)]),(0,l.Lk)("p",cs,[o[92]||(o[92]=(0,l.Lk)("span",{class:"fw-bold"},"Pincode: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.professionalInfo?.pincode),1)]),(0,l.Lk)("p",rs,[o[93]||(o[93]=(0,l.Lk)("span",{class:"fw-bold"},"Description: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.professionalInfo?.description),1)]),(0,l.Lk)("p",ds,[o[94]||(o[94]=(0,l.Lk)("span",{class:"fw-bold"},"Price: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.professionalInfo?.price)+" Rs",1)]),(0,l.Lk)("p",vs,[o[95]||(o[95]=(0,l.Lk)("span",{class:"fw-bold"},"Duration: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.professionalInfo?.duration)+" Hrs",1)]),(0,l.Lk)("p",us,[o[96]||(o[96]=(0,l.Lk)("span",{class:"fw-bold"},"Rating: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.professionalInfo?.rating),1)]),(0,l.Lk)("p",ps,[o[97]||(o[97]=(0,l.Lk)("span",{class:"fw-bold"},"Experience: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.professionalInfo?.experience)+" Years",1)]),(0,l.Lk)("p",bs,[o[98]||(o[98]=(0,l.Lk)("span",{class:"fw-bold"},"Created At: ",-1)),(0,l.eW)((0,i.v_)(new Date(Number(pa.value?.professionalInfo?.createdAt))),1)])],64)):(0,l.Q3)("v-if",!0),(0,t.R1)(r.A).isAdmin||(0,t.R1)(r.A).isProfessional?((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[o[108]||(o[108]=(0,l.Lk)("hr",{class:"mt-2 mb-2"},null,-1)),o[109]||(o[109]=(0,l.Lk)("p",{class:"m-0 fw-bold"},"User Info:",-1)),(0,l.Lk)("p",fs,[o[101]||(o[101]=(0,l.Lk)("span",{class:"fw-bold"},"Name: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.userInfo?.name),1)]),(0,l.Lk)("p",ks,[o[102]||(o[102]=(0,l.Lk)("span",{class:"fw-bold"},"Email: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.userInfo?.email),1)]),(0,l.Lk)("p",ms,[o[103]||(o[103]=(0,l.Lk)("span",{class:"fw-bold"},"Role: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.userInfo?.role),1)]),(0,l.Lk)("p",Ls,[o[104]||(o[104]=(0,l.Lk)("span",{class:"fw-bold"},"Status: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.userInfo?.status),1)]),(0,l.Lk)("p",gs,[o[105]||(o[105]=(0,l.Lk)("span",{class:"fw-bold"},"Location: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.userInfo?.location),1)]),(0,l.Lk)("p",qs,[o[106]||(o[106]=(0,l.Lk)("span",{class:"fw-bold"},"Pincode: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.userInfo?.pincode),1)]),(0,l.Lk)("p",ws,[o[107]||(o[107]=(0,l.Lk)("span",{class:"fw-bold"},"Created At: ",-1)),(0,l.eW)((0,i.v_)(new Date(Number(pa.value?.userInfo?.createdAt))),1)])],64)):(0,l.Q3)("v-if",!0),o[113]||(o[113]=(0,l.Lk)("hr",{class:"mt-2 mb-2"},null,-1)),(0,l.Lk)("div",null,[o[112]||(o[112]=(0,l.Lk)("p",{class:"m-0 fw-bold"},"Reviews:",-1)),(0,l.Lk)("div",Cs,[pa.value?.reviews&&0!==pa.value?.reviews?.length?(0,l.Q3)("v-if",!0):((0,l.uX)(),(0,l.CE)("div",Rs,"No reviews for this Service Request yet!")),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(pa.value?.reviews,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"d-flex gap-4 border rounded p-2"},[o[111]||(o[111]=(0,l.Lk)("div",{class:"fs-1 align-self-center"},[(0,l.Lk)("i",{class:"bi bi-chat-square-text-fill"})],-1)),(0,l.Lk)("div",_s,[(0,l.Lk)("p",Is,(0,i.v_)(e.reviewerName)+"("+(0,i.v_)(e.reviewerEmail)+") --\x3e "+(0,i.v_)(e.revieweeName)+"("+(0,i.v_)(e.revieweeEmail)+") | "+(0,i.v_)(e.type),1),(0,l.Lk)("p",ys,(0,i.v_)(new Date(Number(e.createdAt)).toLocaleString()),1),(0,l.Lk)("p",As,(0,i.v_)(e.review),1),(0,l.Lk)("p",Ws,[o[110]||(o[110]=(0,l.Lk)("span",{class:"fw-bold"},"Rating: ",-1)),(0,l.eW)((0,i.v_)(e.rating),1)])])])))),128))])])])])])]),(0,l.Q3)(" Service Request Accept Modal "),(0,l.Lk)("div",hs,[(0,l.Lk)("div",xs,[(0,l.Lk)("div",Es,[(0,l.Lk)("div",Ps,[(0,l.Lk)("h1",Xs,(0,i.v_)((0,t.R1)(r.A).isProfessional?"Accept Service Request":"Complete Service Request"),1),o[115]||(o[115]=(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"service-request-accept-close-btn"},null,-1))]),(0,l.Lk)("div",Ss,[(0,l.Lk)("p",Ds,[o[116]||(o[116]=(0,l.eW)("Are you sure to ")),(0,l.Lk)("span",Qs,(0,i.v_)((0,t.R1)(r.A).isProfessional?"ACCEPT":"COMPLETE"),1),o[117]||(o[117]=(0,l.eW)(" the service request? Click ")),o[118]||(o[118]=(0,l.Lk)("span",{class:"fw-bold text-success"},"Confirm",-1)),o[119]||(o[119]=(0,l.eW)(" to proceed."))]),(0,l.Lk)("p",Ns,[o[120]||(o[120]=(0,l.Lk)("span",{class:"fw-bold"},"Service Request: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.serviceInfo?.name),1)]),(0,l.Lk)("p",Us,[o[121]||(o[121]=(0,l.Lk)("span",{class:"fw-bold"},"Request Status: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.status),1)]),(0,l.Lk)("p",Ts,[o[122]||(o[122]=(0,l.Lk)("span",{class:"fw-bold"},"Request Status Info: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.statusInfo),1)]),(0,l.Lk)("p",$s,[o[123]||(o[123]=(0,l.Lk)("span",{class:"fw-bold"},"Requested At: ",-1)),(0,l.eW)((0,i.v_)(new Date(Number(pa.value?.createdAt))),1)]),(0,l.Lk)("p",Fs,[o[124]||(o[124]=(0,l.Lk)("span",{class:"fw-bold"},"Request Closed At: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.closedAt?new Date(Number(pa.value?.closedAt)):"-"),1)])]),(0,l.Lk)("div",{class:"modal-footer",id:"service-request-accept-modal-footer"},[(0,l.Lk)("button",{type:"button",class:"btn btn-success",id:"service-request-accept-btn",onClick:qa},"Confirm")])])])]),(0,l.Q3)(" Service Request Cancel Modal "),(0,l.Lk)("div",Ks,[(0,l.Lk)("div",Bs,[(0,l.Lk)("div",Ms,[o[131]||(o[131]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Cancel Service Request"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"service-request-cancel-close-btn"})],-1)),(0,l.Lk)("div",Ys,[o[130]||(o[130]=(0,l.Lk)("p",{class:"m-0"},[(0,l.eW)("Are you sure to "),(0,l.Lk)("span",{class:"fw-bold text-danger"},"CANCEL"),(0,l.eW)(" the service request? Click "),(0,l.Lk)("span",{class:"fw-bold text-danger"},"Cancel"),(0,l.eW)(" to proceed.")],-1)),(0,l.Lk)("p",Os,[o[125]||(o[125]=(0,l.Lk)("span",{class:"fw-bold"},"Service Request: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.serviceInfo?.name),1)]),(0,l.Lk)("p",js,[o[126]||(o[126]=(0,l.Lk)("span",{class:"fw-bold"},"Request Status: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.status),1)]),(0,l.Lk)("p",Vs,[o[127]||(o[127]=(0,l.Lk)("span",{class:"fw-bold"},"Request Status Info: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.statusInfo),1)]),(0,l.Lk)("p",Js,[o[128]||(o[128]=(0,l.Lk)("span",{class:"fw-bold"},"Requested At: ",-1)),(0,l.eW)((0,i.v_)(new Date(Number(pa.value?.createdAt))),1)]),(0,l.Lk)("p",zs,[o[129]||(o[129]=(0,l.Lk)("span",{class:"fw-bold"},"Request Closed At: ",-1)),(0,l.eW)((0,i.v_)(pa.value?.closedAt?new Date(Number(pa.value?.closedAt)):"-"),1)])]),(0,l.Lk)("div",{class:"modal-footer",id:"service-request-cancel-modal-footer"},[(0,l.Lk)("button",{type:"button",class:"btn btn-danger",id:"service-request-cancel-btn",onClick:wa},"Cancel")])])])]),(0,l.Q3)(" Service Request Review Modal "),(0,l.Lk)("div",Hs,[(0,l.Lk)("div",Gs,[(0,l.Lk)("div",Zs,[o[134]||(o[134]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Service Request Review"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"service-request-review-close-btn"})],-1)),(0,l.Lk)("div",ea,[(0,l.Lk)("div",sa,[(0,l.Lk)("div",aa,[(0,l.bo)((0,l.Lk)("textarea",{class:"form-control",id:"service-request-review-text",placeholder:"Review Text","onUpdate:modelValue":o[15]||(o[15]=e=>ba.value=e)},null,512),[[n.Jo,ba.value]]),(0,l.bo)((0,l.Lk)("input",{class:"form",type:"number",id:"service-request-review-rating",placeholder:"Review Rating","onUpdate:modelValue":o[16]||(o[16]=e=>fa.value=e)},null,512),[[n.Jo,fa.value]])]),(0,l.Lk)("div",la,[(0,l.Lk)("p",ta,[(0,l.eW)("Add a service comment about the "+(0,i.v_)((0,t.R1)(r.A).isProfessional?"user":"professional")+" - ",1),(0,l.Lk)("span",ia,(0,i.v_)(ga()?.name)+" ("+(0,i.v_)(ga()?.email)+")",1)]),(0,l.Lk)("div",na,[pa.value?.reviews&&0!==pa.value?.reviews.length?(0,l.Q3)("v-if",!0):((0,l.uX)(),(0,l.CE)("div",oa,"No reviews for this Service Request yet!")),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(pa.value?.reviews,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.revid,class:"d-flex gap-4 border rounded p-2"},[o[133]||(o[133]=(0,l.Lk)("div",{class:"fs-1 align-self-center"},[(0,l.Lk)("i",{class:"bi bi-chat-square-text-fill"})],-1)),(0,l.Lk)("div",ca,[(0,l.Lk)("p",ra,(0,i.v_)(e.reviewerName)+"("+(0,i.v_)(e.reviewerEmail)+") --\x3e "+(0,i.v_)(e.revieweeName)+"("+(0,i.v_)(e.revieweeEmail)+") | "+(0,i.v_)(e.type),1),(0,l.Lk)("p",da,(0,i.v_)(new Date(Number(e.createdAt)).toLocaleString()),1),(0,l.Lk)("p",va,(0,i.v_)(e.review),1),(0,l.Lk)("p",ua,[o[132]||(o[132]=(0,l.Lk)("span",{class:"fw-bold"},"Rating: ",-1)),(0,l.eW)((0,i.v_)(e.rating),1)])])])))),128))])])])]),(0,l.Lk)("div",{class:"modal-footer",id:"service-request-review-modal-footer"},[(0,l.Lk)("button",{type:"button",class:"btn btn-dark",id:"service-request-review-btn",onClick:Ca},"Post")])])])])]))}}}}]);